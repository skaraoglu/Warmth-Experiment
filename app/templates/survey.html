<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <title>Evaluation Survey</title>
    <script>
        // Dynamically adjust the width of the radio buttons
        function adjustWidth() {
            let options = document.getElementsByClassName("option");
            let maxWidth = 0;
            for (let i = 0; i < options.length; i++) {
                maxWidth = Math.max(maxWidth, options[i].offsetWidth);
            }
            for (let i = 0; i < options.length; i++) {
                options[i].style.width = maxWidth + "px";
            }
        }
    </script>
    <style>
    
        h1 {
            text-align: center; /* Center-align the title */
        }
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column; /* Center content vertically */
            align-items: center; /* Center content horizontally */
            height: 100vh; /* Ensure the content takes the full viewport height */
            margin: 0; /* Remove default body margin */
        }
        
        .container {
            text-align: left;
            margin-top: 30px;
            width: 80%; /* Centered content container width */
            border: 2px solid #22f; /* Frame border */
            border-radius: 10px;
            max-width: 700px; /* Limit the maximum width for better readability */
            text-align: center; /* Center-align the container content */
        }
    
        .question {
            margin: 0; /* Increase margin to add more space between questions */
            text-align: left; /* Align the question text to the left */
        }
    
        .question-label {
            font-size: 15pt;
            margin-top: 0px;
            font-weight: bold; /* Make the question label bold */
        }
    
        .question-options {
            display: flex;
            align-items: center; /* Center align options horizontally */
            margin: 10px;
            text-align: center; /* Center-align options */
        }
        
        .options {
            display: flex;
            flex-direction: column; /* Display label and input vertically */
            margin-right: 20px; /* Add space between options */
            width: 20%;
            max-height: 75px;
            justify-content: end;
            
        }
        
        .option-label {
            text-align: center;
            margin-bottom: 5px;
        }
    
        .text-box {
            width: 100%; /* Make text boxes take full width */
            padding: 5px;
        }
    
    
        .task-group {
            border: 2px solid #aaf; /* Frame border */
            border-radius: 10px;
            padding: 10px; /* Add padding for spacing */
            margin-bottom: 20px; /* Add margin to separate question groups */
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Evaluation Survey</h1>
        <p>Please carefully and thoughtfully complete all of the following questions.</p>
        <form id="preference-form" action="{{ url_for('survey_submit') }}" method="POST" onsubmit="return validateForm()">
            <!-- Consistency Question 1 for Validity Check -->
            <div class="task-group" id="q1">
                <div class="question">
                    <label class="question-label" for="q1">The explanations provided by my teammate were useful.</label>
                    <div class="question-options">
                        <div class="options">
                            <label class="option-label">Strongly Disagree:</label>
                            <input type="radio" name="q1" value="1">
                        </div>
                        <div class="options">
                            <label class="option-label">Disagree:</label>
                            <input type="radio" name="q1" value="2">
                        </div>
                        <div class="options">
                            <label class="option-label">Neutral:</label>
                            <input type="radio" name="q1" value="3">
                        </div>
                        <div class="options">
                            <label class="option-label">Agree:</label>
                            <input type="radio" name="q1" value="4">
                        </div>
                        <div class="options">
                            <label class="option-label">Strongly Agree:</label>
                            <input type="radio" name="q1" value="5">
                        </div>
                    </div>
                </div>
            </div>
            <!--  Perceived Usefulness [1]   -->
            <div class="task-group" id="q2">
                <div class="question">
                    <label class="question-label" for="q2">The supporting AI enables me to decide which arm to pull faster.</label>
                    <div class="question-options">
                        <div class="options">
                            <label class="option-label">Strongly Disagree:</label>
                            <input type="radio" name="q2" value="1">
                        </div>
                        <div class="options">
                            <label class="option-label">Disagree:</label>
                            <input type="radio" name="q2" value="2">
                        </div>
                        <div class="options">
                            <label class="option-label">Neutral:</label>
                            <input type="radio" name="q2" value="3">
                        </div>
                        <div class="options">
                            <label class="option-label">Agree:</label>
                            <input type="radio" name="q2" value="4">
                        </div>
                        <div class="options">
                            <label class="option-label">Strongly Agree:</label>
                            <input type="radio" name="q2" value="5">
                        </div>
                    </div>
                </div>
            </div>
            <!--  Perceived Usefulness [2]   -->
            <div class="task-group" id="q3">
                <div class="question">
                    <label class="question-label" for="q3">The supporting AI enhances my effectiveness in deciding which arm to pull.</label>
                    <div class="question-options">
                        <div class="options">
                            <label class="option-label">Strongly Disagree:</label>
                            <input type="radio" name="q3" value="1">
                        </div>
                        <div class="options">
                            <label class="option-label">Disagree:</label>
                            <input type="radio" name="q3" value="2">
                        </div>
                        <div class="options">
                            <label class="option-label">Neutral:</label>
                            <input type="radio" name="q3" value="3">
                        </div>
                        <div class="options">
                            <label class="option-label">Agree:</label>
                            <input type="radio" name="q3" value="4">
                        </div>
                        <div class="options">
                            <label class="option-label">Strongly Agree:</label>
                            <input type="radio" name="q3" value="5">
                        </div>
                    </div>
                </div>
            </div>
            <!--  Perceived Usefulness [3]   -->
            <div class="task-group" id="q4">
                <div class="question">
                    <label class="question-label" for="q4">The supporting AI makes it easier to decide which arm to pull.</label>
                    <div class="question-options">
                        <div class="options">
                            <label class="option-label">Strongly Disagree:</label>
                            <input type="radio" name="q4" value="1">
                        </div>
                        <div class="options">
                            <label class="option-label">Disagree:</label>
                            <input type="radio" name="q4" value="2">
                        </div>
                        <div class="options">
                            <label class="option-label">Neutral:</label>
                            <input type="radio" name="q4" value="3">
                        </div>
                        <div class="options">
                            <label class="option-label">Agree:</label>
                            <input type="radio" name="q4" value="4">
                        </div>
                        <div class="options">
                            <label class="option-label">Strongly Agree:</label>
                            <input type="radio" name="q4" value="5">
                        </div>
                    </div>
                </div>
            </div>
            <!--  Satisfaction (Agent/Explanations) [1]   -->
            <div class="task-group" id="q5">
                <div class="question">
                    <label class="question-label" for="q5">The supporting AI improved my experience.</label>
                    <div class="question-options">
                        <div class="options">
                            <label class="option-label">Strongly Disagree:</label>
                            <input type="radio" name="q5" value="1">
                        </div>
                        <div class="options">
                            <label class="option-label">Disagree:</label>
                            <input type="radio" name="q5" value="2">
                        </div>
                        <div class="options">
                            <label class="option-label">Neutral:</label>
                            <input type="radio" name="q5" value="3">
                        </div>
                        <div class="options">
                            <label class="option-label">Agree:</label>
                            <input type="radio" name="q5" value="4">
                        </div>
                        <div class="options">
                            <label class="option-label">Strongly Agree:</label>
                            <input type="radio" name="q5" value="5">
                        </div>
                    </div>
                </div>
            </div>
            <!--  Satisfaction (Agent/Explanations) [2]   -->
            <div class="task-group" id="q6">
                <div class="question">
                    <label class="question-label" for="q6">I enjoyed working with the supporting AI.</label>
                    <div class="question-options">
                        <div class="options">
                            <label class="option-label">Strongly Disagree:</label>
                            <input type="radio" name="q6" value="1">
                        </div>
                        <div class="options">
                            <label class="option-label">Disagree:</label>
                            <input type="radio" name="q6" value="2">
                        </div>
                        <div class="options">
                            <label class="option-label">Neutral:</label>
                            <input type="radio" name="q6" value="3">
                        </div>
                        <div class="options">
                            <label class="option-label">Agree:</label>
                            <input type="radio" name="q6" value="4">
                        </div>
                        <div class="options">
                            <label class="option-label">Strongly Agree:</label>
                            <input type="radio" name="q6" value="5">
                        </div>
                    </div>
                </div>
            </div>
            <!--  Satisfaction (Agent/Explanations) [3]   -->
            <div class="task-group" id="q7">
                <div class="question">
                    <label class="question-label" for="q7">The supporting AI helped me make better decisions.</label>
                    <div class="question-options">
                        <div class="options">
                            <label class="option-label">Strongly Disagree:</label>
                            <input type="radio" name="q7" value="1">
                        </div>
                        <div class="options">
                            <label class="option-label">Disagree:</label>
                            <input type="radio" name="q7" value="2">
                        </div>
                        <div class="options">
                            <label class="option-label">Neutral:</label>
                            <input type="radio" name="q7" value="3">
                        </div>
                        <div class="options">
                            <label class="option-label">Agree:</label>
                            <input type="radio" name="q7" value="4">
                        </div>
                        <div class="options">
                            <label class="option-label">Strongly Agree:</label>
                            <input type="radio" name="q7" value="5">
                        </div>
                    </div>
                </div>
            </div>
            <!--  Warmth (Agent/Explanations) [1]  -->
            <div class="task-group" id="q8">
                <div class="question">
                    <label class="question-label" for="q8">The supporting AI was good-natured. </label>
                    <div class="question-options">
                        <div class="options">
                            <label class="option-label">Strongly Disagree:</label>
                            <input type="radio" name="q8" value="1">
                        </div>
                        <div class="options">
                            <label class="option-label">Disagree:</label>
                            <input type="radio" name="q8" value="2">
                        </div>
                        <div class="options">
                            <label class="option-label">Neutral:</label>
                            <input type="radio" name="q8" value="3">
                        </div>
                        <div class="options">
                            <label class="option-label">Agree:</label>
                            <input type="radio" name="q8" value="4">
                        </div>
                        <div class="options">
                            <label class="option-label">Strongly Agree:</label>
                            <input type="radio" name="q8" value="5">
                        </div>
                    </div>
                </div>
            </div>
            <!--  Warmth (Agent/Explanations) [2]  -->
            <div class="task-group" id="q9">
                <div class="question">
                    <label class="question-label" for="q9">The supporting AI was trustworthy.</label>
                    <div class="question-options">
                        <div class="options">
                            <label class="option-label">Strongly Disagree:</label>
                            <input type="radio" name="q9" value="1">
                        </div>
                        <div class="options">
                            <label class="option-label">Disagree:</label>
                            <input type="radio" name="q9" value="2">
                        </div>
                        <div class="options">
                            <label class="option-label">Neutral:</label>
                            <input type="radio" name="q9" value="3">
                        </div>
                        <div class="options">
                            <label class="option-label">Agree:</label>
                            <input type="radio" name="q9" value="4">
                        </div>
                        <div class="options">
                            <label class="option-label">Strongly Agree:</label>
                            <input type="radio" name="q9" value="5">
                        </div>
                    </div>
                </div>
            </div>
            <!--  Warmth (Agent/Explanations) [3]  -->
            <div class="task-group" id="q10">
                <div class="question">
                    <label class="question-label" for="q10">The supporting AI was tolerant.</label>
                    <div class="question-options">
                        <div class="options">
                            <label class="option-label">Strongly Disagree:</label>
                            <input type="radio" name="q10" value="1">
                        </div>
                        <div class="options">
                            <label class="option-label">Disagree:</label>
                            <input type="radio" name="q10" value="2">
                        </div>
                        <div class="options">
                            <label class="option-label">Neutral:</label>
                            <input type="radio" name="q10" value="3">
                        </div>
                        <div class="options">
                            <label class="option-label">Agree:</label>
                            <input type="radio" name="q10" value="4">
                        </div>
                        <div class="options">
                            <label class="option-label">Strongly Agree:</label>
                            <input type="radio" name="q10" value="5">
                        </div>
                    </div>
                </div>
            </div>
            <!--  Warmth (Agent/Explanations) [4]  -->
            <div class="task-group" id="q11">
                <div class="question">
                    <label class="question-label" for="q11">The supporting AI was friendly.</label>
                    <div class="question-options">
                        <div class="options">
                            <label class="option-label">Strongly Disagree:</label>
                            <input type="radio" name="q11" value="1">
                        </div>
                        <div class="options">
                            <label class="option-label">Disagree:</label>
                            <input type="radio" name="q11" value="2">
                        </div>
                        <div class="options">
                            <label class="option-label">Neutral:</label>
                            <input type="radio" name="q11" value="3">
                        </div>
                        <div class="options">
                            <label class="option-label">Agree:</label>
                            <input type="radio" name="q11" value="4">
                        </div>
                        <div class="options">
                            <label class="option-label">Strongly Agree:</label>
                            <input type="radio" name="q11" value="5">
                        </div>
                    </div>
                </div>
            </div>
            <!--  Warmth (Agent/Explanations) [5]  -->
            <div class="task-group" id="q12">
                <div class="question">
                    <label class="question-label" for="q12">The supporting AI was sincere.</label>
                    <div class="question-options">
                        <div class="options">
                            <label class="option-label">Strongly Disagree:</label>
                            <input type="radio" name="q12" value="1">
                        </div>
                        <div class="options">
                            <label class="option-label">Disagree:</label>
                            <input type="radio" name="q12" value="2">
                        </div>
                        <div class="options">
                            <label class="option-label">Neutral:</label>
                            <input type="radio" name="q12" value="3">
                        </div>
                        <div class="options">
                            <label class="option-label">Agree:</label>
                            <input type="radio" name="q12" value="4">
                        </div>
                        <div class="options">
                            <label class="option-label">Strongly Agree:</label>
                            <input type="radio" name="q12" value="5">
                        </div>
                    </div>
                </div>
            </div>
            <!-- Consistency Question 2 for Validity Check -->
            <div class="task-group" id="q13">
                <div class="question">
                    <label class="question-label" for="q13">My teammate explanations were not helpful.</label>
                    <div class="question-options">
                        <div class="options">
                            <label class="option-label">Strongly Disagree:</label>
                            <input type="radio" name="q13" value="1">
                        </div>
                        <div class="options">
                            <label class="option-label">Disagree:</label>
                            <input type="radio" name="q13" value="2">
                        </div>
                        <div class="options">
                            <label class="option-label">Neutral:</label>
                            <input type="radio" name="q13" value="3">
                        </div>
                        <div class="options">
                            <label class="option-label">Agree:</label>
                            <input type="radio" name="q13" value="4">
                        </div>
                        <div class="options">
                            <label class="option-label">Strongly Agree:</label>
                            <input type="radio" name="q13" value="5">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Question 5: Attention Check -->
            <div class="task-group" id="q14">
                <div class="question">
                    <label class="question-label" for="q14">
                        Commitment of study engagement 
                    </label>
                    <p>
                        You have completed the experiment. Please indicate how much attention you paid to this study. Again, you will receive credit no matter what. We appreciate your honesty. We can only select participants who have paid their most or full attention. 

I gave this study ____ attention 
                    </p>
                    <div class="question-options">
                        <div class="options">
                            <label class="option-label">Almost no:</label>
                            <input type="radio" name="q14" value="1">
                        </div>
                        <div class="options">
                            <label class="option-label">Very little of my:</label>
                            <input type="radio" name="q14" value="2">
                        </div>
                        <div class="options">
                            <label class="option-label">Some of my:</label>
                            <input type="radio" name="q14" value="3">
                        </div>
                        <div class="options">
                            <label class="option-label">Quite a bit:</label>
                            <input type="radio" name="q14" value="4">
                        </div>
                        <div class="options">
                            <label class="option-label">A lot of:</label>
                            <input type="radio" name="q14" value="5">
                        </div>
                    </div>
                </div>
            </div>

            <form method="POST" action="/survey/submit/">
                <button class="button" type="submit">Complete Survey</button>
            </form>
        </form>
    </div>
    <script>
        function validateForm() {
            // Get all radio buttons with the name "qi" where i is the question number
            for (let i = 1; i <= 14; i++) {
                let radios = document.getElementsByName("q" + i);
                let formValid = false;
                let j = 0;
                while (!formValid && j < radios.length) {
                    if (radios[j].checked) formValid = true;
                    j++;        
                }
                if (!formValid) {
                    alert("Please answer all questions before submitting.");
                    return false; // Prevent form submission
                }
            }
    
            // If all questions are answered, allow form submission
            return true;
        }
    </script>
</body>
</html>
